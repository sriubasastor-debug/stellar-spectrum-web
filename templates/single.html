<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>{{ t('single') }}</title>
    <style>
        body { background:#0f0f1a;color:white;font-family:Arial;padding:20px; }
        input { padding:6px;margin:5px;width:200px;border-radius:6px;border:none; }
        .btn { padding:8px 15px;background:#3e8cff;color:white;border-radius:6px;text-decoration:none;cursor:pointer;border:none; }
        img { margin-top:25px;border:2px solid #555; }
        a { color:#5aa2ff; }
        .lang { position:absolute;top:15px;right:20px; }
        .lang a { color:#3e8cff;margin-left:8px;text-decoration:none; }
    </style>
</head>
<body>
    <div class="lang">
        <a href="/single?lang=zh">中文</a> | <a href="/single?lang=en">EN</a>
    </div>

    <h1>{{ t('single') }}</h1>

    <form method="POST">
        <p>{{ t('spectrum') }}: <input name="spectral"></p>
        <p>{{ t('temperature') }}: <input name="temperature"></p>
        <p>{{ t('luminosity') }}: <input name="luminosity"></p>

        <p><button class="btn" type="submit">提交 Submit</button></p>

        <p><button class="btn" type="submit" name="do_anim" value="1">{{ t('generate_anim') }}</button></p>
    </form>

    {% if result %}
    <h2>结果 / Result</h2>
    <p>{{ t('spectrum') }}: {{ result.spectral }}</p>
    <p>{{ t('temperature') }}: {{ result.temperature }}</p>
    <p>{{ t('luminosity') }}: {{ result.luminosity }}</p>
    <p>{{ t('class') }}: {{ result.professional }}</p>
    <p>{{ t('radius') }}: {{ result.radius }}</p>
    <p>{{ t('mass') }}: {{ result.mass }}</p>
    {% endif %}

    {% if hr_image %}
    <h2>H–R 图</h2>
    <img src="data:image/png;base64,{{hr_image}}" width="560">
    {% endif %}
</body>
</html>
